eval "$(starship init zsh)"

alias cd=z
alias ls=eza

alias sb="cd $HOME/personal/fragment && nvim"
alias v=nvim
alias vim=nvim

alias k='kubectl'
alias kh='kubectl --context homelab'

export KUBECONFIG=$HOME/.kube/home
export EDITOR=nvim

# word style
autoload -U select-word-style
select-word-style bash

bindkey '^R' history-incremental-search-backward
stty -ixon
bindkey '^S' history-incremental-search-forward
bindkey '^P' up-line-or-history
bindkey '^N' down-line-or-history


# nvm
export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh" # This loads nvm

# History related conf
## Enable shared history across all sessions
setopt HIST_IGNORE_DUPS          # Ignore duplicate entries
setopt HIST_IGNORE_SPACE         # Ignore commands that start with a space
setopt HIST_FIND_NO_DUPS         # Don't show duplicates when searching history
setopt HIST_REDUCE_BLANKS        # Remove redundant blanks from history

## Ensure history is saved immediately
setopt INC_APPEND_HISTORY        # Immediately append to the history file
setopt SHARE_HISTORY             # Share history across all sessions

## Set a large history file size (adjust as needed)
HISTSIZE=10000                   # Maximum number of events to keep in memory
SAVEHIST=10000                   # Maximum number of events to save to history file

## Location of the history file (ensure it's in a consistent place)
HISTFILE=~/.zsh_history

[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

# zoxide
eval "$(zoxide init zsh)"
